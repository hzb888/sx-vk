import{s as e,u as o,c as s,w as l,i as a,o as t,b as r,a as d,I as n,d as c}from"./index-CI1WKL_Z.js";import{r as i,_ as m}from"./uni-app.es.CDievr-Z.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";var u=uni.vk;const f=p({data:()=>({data:{},form1:{mobile:"",password:"",password2:"",code:""},scrollTop:0,isRotate:!1}),onPageScroll(e){this.scrollTop=e.scrollTop},onLoad(e){u=uni.vk,this.init(e)},onReady(){},onShow(){},onHide(){},onPullDownRefresh(){setTimeout((()=>{e()}),1e3)},onShareAppMessage(e){},methods:{init(e={}){console.log("init: ",e)},pageTo(e){u.navigateTo(e)},resetPassword(){let e=this;const{mobile:o,code:s,password:l,password2:a}=e.form1;if(e.isRotate)return!1;u.pubfn.test(o,"mobile")?u.pubfn.test(l,"pwd")&&u.pubfn.test(a,"pwd")?l==a?u.pubfn.test(s,"mobileCode")?(e.isRotate=!0,u.userCenter.resetPasswordByMobile({data:e.form1,success:o=>{e.isRotate=!1,u.alert("密码重置成功,新密码为:"+l,(()=>{u.redirectTo("../index/index")}))},complete:()=>{e.isRotate=!1}})):u.toast("验证码格式为6位数字","none"):u.toast("两次密码必须相同!","none"):u.toast("密码以字母开头，长度在6~18之间，只能包含字母、数字和下划线","none"):u.toast("请输入正确的手机号码","none")}},computed:{}},[["render",function(e,p,u,f,b,h){const w=a,_=n,y=i(o("vk-data-verification-code"),m),V=c;return t(),s(w,{class:"app forget"},{default:l((()=>[r(w,{class:"content"},{default:l((()=>[r(w,{class:"form-view"},{default:l((()=>[r(w,{class:"tips"},{default:l((()=>[d("若你忘记了密码，可在此重置新密码。")])),_:1}),r(w,{class:"form-item form-border"},{default:l((()=>[r(_,{class:"form-input",modelValue:b.form1.mobile,"onUpdate:modelValue":p[0]||(p[0]=e=>b.form1.mobile=e),type:"text",maxlength:11,placeholder:"请输入手机号码","placeholder-style":"'color':'#8e8e8e'"},null,8,["modelValue"])])),_:1}),r(w,{class:"form-item form-border"},{default:l((()=>[r(_,{class:"form-input",modelValue:b.form1.password,"onUpdate:modelValue":p[1]||(p[1]=e=>b.form1.password=e),type:"password",placeholder:"请输入新密码","placeholder-style":"'color':'#8e8e8e'"},null,8,["modelValue"])])),_:1}),r(w,{class:"form-item form-border"},{default:l((()=>[r(_,{class:"form-input",modelValue:b.form1.password2,"onUpdate:modelValue":p[2]||(p[2]=e=>b.form1.password2=e),type:"password",placeholder:"请再次输入新密码","placeholder-style":"'color':'#8e8e8e'"},null,8,["modelValue"])])),_:1}),r(w,{class:"form-item form-border"},{default:l((()=>[r(_,{class:"form-input",modelValue:b.form1.code,"onUpdate:modelValue":p[3]||(p[3]=e=>b.form1.code=e),type:"number",maxlength:6,placeholder:"请输入验证码","placeholder-style":"'color':'#8e8e8e'"},null,8,["modelValue"]),r(y,{"check-user-exist":!0,seconds:"60",mobile:b.form1.mobile,type:"reset-pwd","custom-style":"font-size: 28rpx;"},null,8,["mobile"])])),_:1})])),_:1}),r(w,{class:"login-btn"},{default:l((()=>[r(V,{class:"btn success circle","hover-class":"hover",shape:"circle",onClick:h.resetPassword,plain:!1,"hair-line":!1,type:"success"},{default:l((()=>[d("重置密码")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-fbc56cec"]]);export{f as default};
